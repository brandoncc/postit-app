<%= render partial: 'shared/form_errors', locals: { object: @post } %>

<%= form_for @post do |f| %>
  <p>
    <%= f.label :title %>
    <%= f.text_field :title %>
  </p>

  <p>
    <%= f.label :url %>
    <%= f.text_field :url %>
  </p>

  <p>
    <%= f.label :description %>
    <%= f.text_area :description %>
  </p>

  <p>
    <% @categories.each do |cat| %>
      <% if @post.category_ids.include?(cat.id) %>
        <%= check_box_tag 'post[categories][]', "#{cat.id}", 'checked' %>
        <%= label_tag "#{cat.name}" %>
      <% else %>
        <%= check_box_tag 'post[categories][]', "#{cat.id}" %>
        <%= label_tag "#{cat.name}" %>
      <% end %>
    <% end %>
  </p>

  <p>
    <%= f.submit %>
  </p>
<% end %>
